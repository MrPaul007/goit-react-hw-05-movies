{"version":3,"file":"static/js/395.c5399399.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/modules/MoviesSearch/movies-search.module.css?c58f","modules/MoviesSearch/MoviesSearchForm.jsx","modules/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx","shared/api/movies.js","webpack://goit-react-hw-05-movies/./src/shared/components/MoviesList/movies-list.module.css?19ef","shared/components/MoviesList/MoviesList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movies-search_container__W7k1z\",\"input\":\"movies-search_input__Y16Uz\",\"button\":\"movies-search_button__kvC-y\"};","import {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./movies-search.module.css\";\n\nfunction MoviesSearchForm({onSubmit}) {\n    const [state, setState] = useState({\n        query: \"\"\n    });\n\n    const handleChange = ({target}) => {\n        const {name, value} = target;\n        setState(prevState => ({\n            ...prevState,\n            [name]: value\n        }))\n    };\n\n    const handleSubmit = (e)=> {\n        e.preventDefault();\n        onSubmit({...state});\n        setState({query: \"\"})\n    };\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <input \n                className={styles.input} \n                name=\"query\" value={state.query} \n                onChange={handleChange} type=\"text\" \n                placeholder=\"      Search movies\" \n            />\n            <button className={styles.button} type=\"submit\">Search</button>\n        </form>\n    )\n}\n\nMoviesSearchForm.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\nexport default MoviesSearchForm;","import {useState, useEffect} from \"react\";\nimport {useSearchParams} from \"react-router-dom\";\n\nimport MoviesList from \"../../shared/components/MoviesList\";\nimport MoviesSearchForm from \"./MoviesSearchForm\";\nimport {searchMovies} from \"../../shared/api/movies\";\n\nimport styles from \"./movies-search.module.css\";\n\nfunction MoviesSearch() {\n    const [state, setState] = useState({\n        items:[],\n        loading: false,\n        error: null,\n        totalResults: true\n    });\n    \n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"query\");\n\n    useEffect(()=> {\n        const fetchMovies = async() => {\n            setState(prevState => ({\n                ...prevState,\n                items: [],\n                loading: true,\n            }));\n\n            try {\n                const data = await searchMovies(query);\n                setState(prevState => ({\n                    ...prevState,\n                    items: data.results,\n                    loading: false,\n                    totalResults: data.total_results\n                }))\n            } catch (error) {\n                setState(prevState => ({\n                    ...prevState,\n                    loading: false,\n                    error,\n                }))\n            }\n        };\n\n        if(query) {\n            fetchMovies();\n        }\n    }, [query, setState])\n\n    const changeSearch = ({query}) => setSearchParams({query});\n\n    const {items, loading, error, totalResults} = state;\n\n    return(\n        <div className={styles.container}>\n            <MoviesSearchForm onSubmit={changeSearch} />\n            {loading && <p>...Loading</p>}  \n            {error && <p>Movies not found</p>}\n            {totalResults ? <MoviesList items={items} /> : <p>Movies not found</p>}\n        </div>\n    )\n};\n\nexport default MoviesSearch;","import MoviesSearch from \"../../modules/MoviesSearch/MoviesSearch\";\n\nfunction MoviesPage() {\n    return (\n        <div className=\"container\">\n                <MoviesSearch />\n            </div>\n    )\n}\n\nexport default MoviesPage;","import axios from \"axios\";\n\nconst API_KEY = \"dd208677c341fec119543dd378b0d37a\";\n\nconst instance = axios.create({\n    baseURL: \"https://api.themoviedb.org/3/\",\n});\n\nexport const getMovies = async () => {\n    const { data: { results } } = await instance.get(\"trending/movie/day\", {\n        params:{\n            api_key: API_KEY,\n        }\n    });\n    return results;\n};\n\nexport const searchMovies = async (query) => {\n    const { data } = await instance.get(\"search/movie\", {\n        params:{\n            query,\n            api_key: API_KEY,\n        }\n    });\n    return data;\n};\n\nexport const getMovieById = async (id) => {\n    const { data } = await instance.get(`movie/${id}`, {\n        params:{\n            id,\n            api_key: API_KEY,\n        }\n    });\n    return data;\n};\n\nexport const getCast = async (id) => {\n    const { data: { cast } } = await instance.get(`movie/${id}/credits`, {\n        params:{\n            api_key: API_KEY,\n        }\n    });\n    return cast;\n};\n\nexport const getReviews = async (id) => {\n    const { data } = await instance.get(`movie/${id}/reviews`, {\n        params:{\n            api_key: API_KEY,\n        }\n    });\n    return data;\n};","// extracted by mini-css-extract-plugin\nexport default {\"movieItem\":\"movies-list_movieItem__0pYX7\"};","import {Link, useLocation} from \"react-router-dom\";\nimport styles from \"./movies-list.module.css\";\n\n\nconst MoviesList = ({ items }) => {\n    const location = useLocation();\n\n    const elements = items.map(({ id, title }) => <li key={id} className={styles.movieItem}>\n        <Link to={`/movies/${id}`} state={{prevPageLocation: location}}>{title}</Link>\n    </li>);\n\n    return (\n        <ul>\n            {elements}\n        </ul>\n    )\n}\n\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n    items: []\n}"],"names":["onSubmit","useState","query","state","setState","e","preventDefault","className","styles","name","value","onChange","target","prevState","type","placeholder","items","loading","error","totalResults","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","searchMovies","data","results","total_results","MoviesList","API_KEY","instance","axios","baseURL","getMovies","params","api_key","getMovieById","id","getCast","cast","getReviews","location","useLocation","elements","map","title","to","prevPageLocation","defaultProps"],"sourceRoot":""}