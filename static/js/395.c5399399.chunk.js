"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[395],{8395:function(t,e,r){r.r(e),r.d(e,{default:function(){return y}});var n=r(1413),a=r(5861),u=r(885),s=r(7757),i=r.n(s),c=r(2791),o=r(501),p=r(9300),f=r(4942),v="movies-search_container__W7k1z",l="movies-search_input__Y16Uz",d="movies-search_button__kvC-y",m=r(184);var h=function(t){var e=t.onSubmit,r=(0,c.useState)({query:""}),a=(0,u.Z)(r,2),s=a[0],i=a[1];return(0,m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e((0,n.Z)({},s)),i({query:""})},children:[(0,m.jsx)("input",{className:l,name:"query",value:s.query,onChange:function(t){var e=t.target,r=e.name,a=e.value;i((function(t){return(0,n.Z)((0,n.Z)({},t),{},(0,f.Z)({},r,a))}))},type:"text",placeholder:"      Search movies"}),(0,m.jsx)("button",{className:d,type:"submit",children:"Search"})]})},x=r(8197);var _=function(){var t=(0,c.useState)({items:[],loading:!1,error:null,totalResults:!0}),e=(0,u.Z)(t,2),r=e[0],s=e[1],f=(0,o.lr)(),l=(0,u.Z)(f,2),d=l[0],_=l[1],y=d.get("query");(0,c.useEffect)((function(){var t=function(){var t=(0,a.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{items:[],loading:!0})})),t.prev=1,t.next=4,(0,x.z1)(y);case 4:e=t.sent,s((function(t){return(0,n.Z)((0,n.Z)({},t),{},{items:e.results,loading:!1,totalResults:e.total_results})})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1,error:t.t0})}));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();y&&t()}),[y,s]);var Z=r.items,g=r.loading,k=r.error,b=r.totalResults;return(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)(h,{onSubmit:function(t){var e=t.query;return _({query:e})}}),g&&(0,m.jsx)("p",{children:"...Loading"}),k&&(0,m.jsx)("p",{children:"Movies not found"}),b?(0,m.jsx)(p.Z,{items:Z}):(0,m.jsx)("p",{children:"Movies not found"})]})};var y=function(){return(0,m.jsx)("div",{className:"container",children:(0,m.jsx)(_,{})})}},8197:function(t,e,r){r.d(e,{IQ:function(){return v},Jh:function(){return l},Pg:function(){return f},XT:function(){return o},z1:function(){return p}});var n=r(5861),a=r(7757),u=r.n(a),s=r(4569),i="dd208677c341fec119543dd378b0d37a",c=r.n(s)().create({baseURL:"https://api.themoviedb.org/3/"}),o=function(){var t=(0,n.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("trending/movie/day",{params:{api_key:i}});case 2:return e=t.sent,r=e.data.results,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("search/movie",{params:{query:e,api_key:i}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("movie/".concat(e),{params:{id:e,api_key:i}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("movie/".concat(e,"/credits"),{params:{api_key:i}});case 2:return r=t.sent,n=r.data.cast,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.get("movie/".concat(e,"/reviews"),{params:{api_key:i}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},9300:function(t,e,r){r.d(e,{Z:function(){return c}});var n=r(501),a=r(6871),u="movies-list_movieItem__0pYX7",s=r(184),i=function(t){var e=t.items,r=(0,a.TH)(),i=e.map((function(t){var e=t.id,a=t.title;return(0,s.jsx)("li",{className:u,children:(0,s.jsx)(n.rU,{to:"/movies/".concat(e),state:{prevPageLocation:r},children:a})},e)}));return(0,s.jsx)("ul",{children:i})},c=i;i.defaultProps={items:[]}}}]);
//# sourceMappingURL=395.c5399399.chunk.js.map